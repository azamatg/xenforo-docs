+++
title = "Синтаксис шаблонов XenForo 2.x"
menutitle = "Синтаксис шаблонов"
draft = false
layout = "single"
weight = 2
page_author = "official"
page_progress = "15"
show_progress = "true"
+++

{{% bq class="success" %}}Перевод официальной документации - статья <a href="https://github.com/xenforo-ltd/docs/blob/master/docs/template-syntax.md">Template syntax</a>{{% /bq %}}

Синтаксис шаблонов XenForo 2 - мощный инструмент как для разработчиков, так и для администраторов, который дает полный контроль над внешним видом страниц вашего форума.

## Лучшие практики

- Все теги XenForo, по соглашению, пишем в `нижнем регистре`.
- Все теги шаблонов XenForo имеют префикс `xf:`.

## Полезная информация

### Комментарии в шаблонах

Используйте тег `xf:comment`, чтобы закомментировать в шаблоне строки кода или какой-то текст. Все, что будет внутри этого тега, не будет отображено в скомпилированном шаблоне (итоговом HTML).

```html
<xf:comment>
Очень полезный комментарий, но он не будет выведен в итоговый HTML, так что вы можете прочитать его только здесь, при редактировании этого шаблона.
</xf:comment>
```

### Подключение другого шаблона внутри текущего

Используйте тег `xf:include`, чтобы подключить другой шаблон в текущий шаблон.

```html
<xf:include template="my_template" />
```

Параметр `template` принимает имя нужного шаблона.

## Макросы в шаблонах

> Этот раздел требует уточнения перевода.

Макросы - один из самых мощных инструментов синтаксиса шаблонов XenForo.

Если сильно упростить описание, то можно сказать, что макросы нужно применять там, где шаблон требует сложной логики, повторения каких-то элементов и шаблонов, в разных местах и с разными задачами. Более подробно логику внедрения и работы макросов можно изучить в исходниках :)

Внимание!

- Для сохранения "читабельности" шаблонов, не используйте тег макроса как переменную. Вместо этого используйте тег `set` и используйте макрос как переменную шаблона.
- Если макрос используется более чем в одном файле, будет логичным сделать для него отдельный шаблон.

### Определение макроса

В самом простом (минимально допустимом) случае макрос может быть определен, как указано в примере ниже - нужно задать имя макроса в параметре `name` и прописать контент самого макроса.

```html
<xf:macro
    name="my_macro_name">

    <!-- Your macro content -->

</xf:macro>
```

### Аргументы макроса

```html
<xf:macro
    name="my_macro_name"
    arg-message="My amazing macro message!">

    <h1>Message</h1>
    <p>{$message}</p>

</xf:macro>
```

В этом примере мы определили параметр `arg-message` и назначили ему значение по умолчанию (текст `My amazing macro message!`). Если макрос будет вызван без аргументов, `arg-message` будет содержать это значение по умолчанию, иначе значение параметра будет перезаписано значением параметра макроса, вызванного с заданием значения этого параметра.

Иногда требуется задать параметр, как обязательный - для этого в определении макроса в значении параметра по умолчанию пишем символ `!`.

### Использование и включение макросов в шаблон

```html
<xf:macro template="my_macro_template" name="my_macro_name" />
```

В этом простом примере мы вызываем макрос с указанием его имени в параметре `name` и указанием шаблона макроса в параметре `my_macro_template`.

*Внимание!* 

- **Определение** макроса производится внутри **обоих** тегов `xf:macro` - открывающего (`<xf:macro>`)и закрывающего (`</xf:macro>`).
- **Вызов** макроса производится **одиночным** тегом `<xf:macro ... />` (обратите внимание на закрывающие скобки).

#### Аргументы макроса при вызове

```html
<xf:macro template="my_macro_template" name="my_macro_name" arg-argName="argValue" />
```

`argName` - имя аргумента.

*Внимание!* Называйте аргументы в стиле `lowerCamelCase`.


## Контроль структуры шаблонов

Синтаксис шаблонов XenForo 2 предоставляет достаточно возможностей для контроля структуры шаблонов.


## Тег IF

Тег IF используется для ограничения/вывода частей шаблона по заданным условиям.


## Ссылки

- [Оригинал статьи](https://github.com/xenforo-ltd/docs/blob/master/docs/template-syntax.md)