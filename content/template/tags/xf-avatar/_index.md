+++
title = "Вывод аватара юзера - тег xf:avatar"
menutitle = "xf:avatar"
linktitle = "xf:avatar"
metatitle = "xf:avatar"
short_desc = "Вывод аватара юзера"
date = 2018-11-09T14:03:17+05:00
draft = "false"
layout = "single"
page_author = "official"
page_progress = "100"
show_progress = "true"
+++

{{% bq %}}Выводит подготовленный html с аватаром юзера.{{% /bq %}}

Простой пример использования:

```html
<xf:avatar user="{$xf.visitor}" size="o" canonical="true" />
```

## Атрибуты

{{% table_class %}}
| Атрибут | Описание |
| --- | --- |
| `user` | объект класса `User`, для которого будет сгенерирован аватар (переменная `$xf.visitor` является объектом этого класса) |
| `size` | буквенный индекс одного из заданных размеров аватаров (см. ниже раздел "Размеры аватаров") |
| `canonical` | если `true`, ссылкой аватара будет т.н. канонический URL (вместо возможных ЧПУ и прочего), работает только для кастомных аватаров |
| `notooltip` | если `true`, для аватара будет отключена реакция на наведение (в виде тултипа-окошка с дополнительной информацией) |
| `forcetype` | выбор типа выводимого аватара, `custom` - обычный аватар, `gravatar` - вывод картинки в формате Gravatar |
| `defaultname` | здесь можно задать имя по умолчанию, есл объект `User` не будет получен, и тег не сможет получить ник юзера |
{{% /table_class %}} 

## Размеры картинок

Размеры картинок под вывод в данном теге заскриптованы прямо в движке, вот их набор:

{{% table_class %}}
| Индекс | Размер |
| --- | --- |
| `o` | `384px` |
| `h` | `384px` |
| `l` | `192px` |
| `m` | `96px` |
| `s` | `48px` |

## Для программистов

Содержимое тега генерируется функцией `fnAvatar` класса `Templater`:

```php
public function fnAvatar($templater, &$escape, $user, $size, $canonical = false, $attributes = [])
```
